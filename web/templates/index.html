<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
	  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />        
    <title>Mumoro Rennes</title>
    <link type="text/css"
	  href="css/ui-lightness/jquery-ui-1.8.2.custom.css"
	  rel="stylesheet" /> 
    <link rel="stylesheet" type="text/css" href="css/anytimec.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design" href="design.css" /> 
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ?"https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost +"google-analytics.com/ga.js'type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-407886-3");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>       
    <script src="http://openlayers.org/api/OpenLayers.js" type="text/javascript"/>
    <script src="http://www.openstreetmap.org/openlayers/OpenStreetMap.js" 
	    type="text/javascript"/>
    <script type="text/javascript" src="/scripts/cloudmade.js"/>
    <script src="/scripts/jquery-1.4.2.min.js" type="text/javascript"/>
    <script src="/scripts/jquery.contextMenu.js" type="text/javascript"/>
    <script src="/scripts/jquery.tablesorter.js"
            type="text/javascript"/>
    <script src="scripts/touch.js" type="text/javascript"/>
    <script type="text/javascript" src="/scripts/anytimec.js"/>
    <script type="text/javascript">
      var lat=$latMap;
      var lon=$lonMap;
      var zoom=$zoom;
      var initialStartText="$addressStart";
      var initialDestText="$addressDest";
      var lonStart=$lonStart;
      var latStart=$latStart;
      var lonDest=$lonDest;
      var latDest=$latDest;
      var fromHash=$fromHash;
      var hurl="$hashUrl";
      var layers=$layers;
      var map; //complex object of type OpenLayers.Map
      var routeLayer;
      var proj4326 = new OpenLayers.Projection("EPSG:4326"); // longitude/latitude in decimal degrees
      var proj900913 = new OpenLayers.Projection("EPSG:900913"); // Google projection
      var nodes = {
      'start': null,
      'dest': null,
      'fmouse_start': false,
      'fmouse_dest': false            
      };
      var disableClickEvent = false;
      var icon_standard;
      var icon = {
      'start': null,
      'dest': null
      };
      var controlDrag = null;
      var bikeLayer = null;
      var layerMarkers = new OpenLayers.Layer.Vector("Markers");
      icon_standard = OpenLayers.Util.extend({}, OpenLayers.Feature.Vector.style['default']);
      icon_standard.graphicWidth = 26;
      icon_standard.graphicHeight = 41;
      icon_standard.graphicXOffset = -icon_standard.graphicWidth/2;
      icon_standard.graphicYOffset = -icon_standard.graphicHeight;
      icon_standard.graphicOpacity = 1.0;
      icon_standard.pointRadius = 6;
      icon['start'] = OpenLayers.Util.extend({}, icon_standard);
      icon['start'] .externalGraphic = "/img/pin-d.png";
      icon['dest']  = OpenLayers.Util.extend({}, icon_standard);
      icon['dest'] .externalGraphic = "/img/pin-a.png";  
      var node_markers = {
      'start': null,
      'dest': null
      };
      var in_options = {'internalProjection': proj900913,'externalProjection': proj4326};  
      var geojson_reader = new OpenLayers.Format.GeoJSON(in_options);
      var features;
      var paths;
      var cacheStart;
      var cacheDest;
      var now ="$date";
    </script>
   <script src="scripts/mumoro.js" type="text/javascript"></script>
    <link rel="icon" type="image/png" href="img/arrow.png" />
  </head>
  
  <body onload="init();">
    <div id="main">
      <div id="left-panel">
	<div class="wrapper">
          <h1>Mumoro Rennes</h1>
          <h2>Multimodal and multiobjective routing <a href="/info">Read more here</a></h2>
	  
          <div id="mumoro_form">
            <form method="get" action="javascript:validateAddresses(this);">
	      <ul>
		<li>
		  <label for="time">Heure du départ</label>
		  <input name="time" id="datepicker" type="datetime"/>
		  <script type="text/javascript">
		    AnyTime.picker( "datepicker", { format: "%e/%m/%Y %H:%i",
		    firstDOW: 1 } );
		  </script>
		</li>
		<li>
		  <label for="startAdr">Départ</label>
		  <span id="formError_start"></span>
		  <br/>           
		  <input type="text" name="startAdr" id="startAdr"/>
		</li>
		<li>
		  <label for="endAdr">Destination</label>
		  <span id="formError_dest"></span>
		  <br/>
		  <input type="text" name="endAdr" id="endAdr"/>
		  <span class="tinyText">Example : « 23 rue de la
		  Chalotais 35000 Rennes France »</span>
		</li>
		<li>
		  <input type="button" value="Trajet retour" onclick="reverseLocations(this)"/>
		  <input type="submit" value="Itinéraires"/>
		</li>
	      </ul>
            </form>
          </div>
          <div id="info">
            <p id="path_costs"></p>
            <!-- <p id="routing_description"></p> -->
            <p id="hash_url"></p>
          </div>
	</div>
      </div>
      <div id="right-panel">
        <div id="map">
          <div id="licences">
            <a href="http://www.openstreetmap.org/">Openstreetmap</a>
            (<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC
              by-sa</a>) |
	    <a href="http://www.data.rennes-metropole.fr/fr/lentrepot/licence-dutilisation.html">Entrepôt de
              données publiques de Rennes et Rennes Métropole</a>
            (<a href="http://www.data.rennes-metropole.fr/fr/lentrepot/licence-dutilisation.html">licence</a>) | 
	    <a href="https://github.com/Tristramg/mumoro">Routing
	      algorithms</a> (<a href="http://www.gnu.org/licenses/gpl.html">GPLv3</a>)
          </div>
	</div>
      </div>        
    </div>
    <ul id="myMenu" class="contextMenu"> 
      <li class="start"><a href="#start">Set Start</a></li> 
      <li class="dest"><a href="#dest">Set Destination</a></li> 
    </ul>
  </body>
</html>
